{"ast":null,"code":"import _slicedToArray from\"/Users/katejohnson/Desktop/shop-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,useParams}from'react-router-dom';import{useQuery}from'@apollo/client';import{QUERY_PRODUCTS}from'../utils/queries';import spinner from'../assets/spinner.gif';function Detail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=useQuery(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=(data===null||data===void 0?void 0:data.products)||[];useEffect(function(){if(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}},[products,id]);return/*#__PURE__*/React.createElement(React.Fragment,null,currentProduct?/*#__PURE__*/React.createElement(\"div\",{className:\"container my-1\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"\\u2190 Back to Products\"),/*#__PURE__*/React.createElement(\"h2\",null,currentProduct.name),/*#__PURE__*/React.createElement(\"p\",null,currentProduct.description),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Price:\"),\"$\",currentProduct.price,' ',/*#__PURE__*/React.createElement(\"button\",null,\"Add to Cart\"),/*#__PURE__*/React.createElement(\"button\",null,\"Remove from Cart\")),/*#__PURE__*/React.createElement(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})):null,loading?/*#__PURE__*/React.createElement(\"img\",{src:spinner,alt:\"loading\"}):null);}export default Detail;","map":{"version":3,"sources":["/Users/katejohnson/Desktop/shop-shop/client/src/pages/Detail.js"],"names":["React","useEffect","useState","Link","useParams","useQuery","QUERY_PRODUCTS","spinner","Detail","id","currentProduct","setCurrentProduct","loading","data","products","length","find","product","_id","name","description","price","image"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,QAAT,KAAyB,gBAAzB,CAEA,OAASC,cAAT,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,eAAeJ,SAAS,EAAxB,CAAQK,EAAR,YAAQA,EAAR,CAEA,cAA4CP,QAAQ,CAAC,EAAD,CAApD,wCAAOQ,cAAP,eAAuBC,iBAAvB,eAEA,cAA0BN,QAAQ,CAACC,cAAD,CAAlC,CAAQM,OAAR,WAAQA,OAAR,CAAiBC,IAAjB,WAAiBA,IAAjB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,CAAAD,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEC,QAAN,GAAkB,EAAnC,CAEAb,SAAS,CAAC,UAAM,CACd,GAAIa,QAAQ,CAACC,MAAb,CAAqB,CACnBJ,iBAAiB,CAACG,QAAQ,CAACE,IAAT,CAAc,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACC,GAAR,GAAgBT,EAA7B,EAAd,CAAD,CAAjB,CACD,CACF,CAJQ,CAIN,CAACK,QAAD,CAAWL,EAAX,CAJM,CAAT,CAMA,mBACE,wCACGC,cAAc,cACb,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,4BADF,cAGE,8BAAKA,cAAc,CAACS,IAApB,CAHF,cAKE,6BAAIT,cAAc,CAACU,WAAnB,CALF,cAOE,0CACE,2CADF,KAC2BV,cAAc,CAACW,KAD1C,CACiD,GADjD,cAEE,gDAFF,cAGE,qDAHF,CAPF,cAaE,2BACE,GAAG,mBAAaX,cAAc,CAACY,KAA5B,CADL,CAEE,GAAG,CAAEZ,cAAc,CAACS,IAFtB,EAbF,CADa,CAmBX,IApBN,CAqBGP,OAAO,cAAG,2BAAK,GAAG,CAAEL,OAAV,CAAmB,GAAG,CAAC,SAAvB,EAAH,CAAyC,IArBnD,CADF,CAyBD,CAED,cAAeC,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport spinner from '../assets/spinner.gif';\n\nfunction Detail() {\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const products = data?.products || [];\n\n  useEffect(() => {\n    if (products.length) {\n      setCurrentProduct(products.find((product) => product._id === id));\n    }\n  }, [products, id]);\n\n  return (\n    <>\n      {currentProduct ? (\n        <div className=\"container my-1\">\n          <Link to=\"/\">‚Üê Back to Products</Link>\n\n          <h2>{currentProduct.name}</h2>\n\n          <p>{currentProduct.description}</p>\n\n          <p>\n            <strong>Price:</strong>${currentProduct.price}{' '}\n            <button>Add to Cart</button>\n            <button>Remove from Cart</button>\n          </p>\n\n          <img\n            src={`/images/${currentProduct.image}`}\n            alt={currentProduct.name}\n          />\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </>\n  );\n}\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}